"use strict";var multiItemSlider=function(t,e){var o,r,l=document.querySelector(t),s=l.querySelector(".slider__row"),c=l.querySelectorAll(".slider__item"),a=(l.querySelectorAll(".slider__control"),l.querySelector(".slider__control_left"),l.querySelector(".slider__control_right"),parseFloat(getComputedStyle(s).width)),d=parseFloat(getComputedStyle(c[0]).width),u=l.innerHTML,f=0,_=c.length-1,m=0,h=0,p=d/a*100,g=[],v=0,y=[{active:!1,minWidth:0,count:1},{active:!1,minWidth:576,count:2},{active:!1,minWidth:992,count:3},{active:!1,minWidth:1200,count:4}],i={isCycling:!1,direction:"right",interval:5e3,pause:!0};for(r in e)r in i&&(i[r]=e[r]);c.forEach(function(t,e){g.push({item:t,position:e,transform:0})});function S(){var i=0,o=parseFloat(document.body.clientWidth);y.forEach(function(t,e,r){y[e].active=!1,o>=y[e].minWidth&&(i=e)}),y[i].active=!0}function n(t){var e;t.target.classList.contains("slider__control")&&(t.preventDefault(),e=t.target.classList.contains("slider__control_right")?"right":"left",I(e),clearInterval(v),E(i.direction)),t.target.getAttribute("data-slide-to")&&(t.preventDefault(),q(parseInt(t.target.getAttribute("data-slide-to"))),clearInterval(v),E(i.direction))}function w(){"hidden"===document.visibilityState?clearInterval(v):(clearInterval(v),E(i.direction))}var L={getItemMin:function(){var r=0;return g.forEach(function(t,e){t.position<g[r].position&&(r=e)}),r},getItemMax:function(){var r=0;return g.forEach(function(t,e){t.position>g[r].position&&(r=e)}),r},getMin:function(){return g[L.getItemMin()].position},getMax:function(){return g[L.getItemMax()].position}},I=function(t){var e,r,i=f;(0<=(r=(r=l).getBoundingClientRect()).top&&r.bottom<=window.innerHeight||r.top<window.innerHeight&&0<=r.bottom)&&("right"===t&&(++m+a/d-1>L.getMax()&&(e=L.getItemMin(),g[e].position=L.getMax()+1,g[e].transform+=100*g.length,g[e].item.style.transform="translateX("+g[e].transform+"%)"),h-=p,_<(f+=1)&&(f=0)),"left"===t&&(--m<L.getMin()&&(e=L.getItemMax(),g[e].position=L.getMin()-1,g[e].transform-=100*g.length,g[e].item.style.transform="translateX("+g[e].transform+"%)"),h+=p,(f-=1)<0&&(f=_)),s.style.transform="translateX("+h+"%)",o[i].classList.remove("active"),o[f].classList.add("active"))},q=function(t){for(var e=0,r=f<t?"right":"left";t!==f&&e<=_;)I(r),e++},E=function(t){i.isCycling&&(v=setInterval(function(){I(t)},i.interval))},C=function(){var t=document.createElement("ol");t.classList.add("slider__indicators");for(var e=0;e<c.length;e++){var r=document.createElement("li");0===e&&r.classList.add("active"),r.setAttribute("data-slide-to",e),t.appendChild(r)}l.appendChild(t),o=l.querySelectorAll(".slider__indicators > li")};return C(),document.querySelector(".slider-wrapper").addEventListener("click",n),i.pause&&i.isCycling&&(l.addEventListener("mouseenter",function(){clearInterval(v)}),l.addEventListener("mouseleave",function(){clearInterval(v),E(i.direction)})),document.addEventListener("visibilitychange",w,!1),window.addEventListener("resize",function(){var i,o=0,n=parseFloat(document.body.clientWidth);y.forEach(function(t,e,r){n>=y[e].minWidth&&(o=e)}),o!==(y.forEach(function(t,e,r){y[e].active&&(i=e)}),i)&&(S(),clearInterval(v),l.innerHTML=u,s=l.querySelector(".slider__row"),c=l.querySelectorAll(".slider__item"),l.querySelectorAll(".slider__control"),l.querySelector(".slider__control_left"),l.querySelector(".slider__control_right"),a=parseFloat(getComputedStyle(s).width),d=parseFloat(getComputedStyle(c[0]).width),f=h=m=0,_=c.length-1,p=d/a*100,g=[],c.forEach(function(t,e){g.push({item:t,position:e,transform:0})}),C())}),"visible"===document.visibilityState&&E(i.direction),S(),{right:function(){I("right")},left:function(){I("left")},stop:function(){i.isCycling=!1,clearInterval(v)},cycle:function(){i.isCycling=!0,clearInterval(v),E()}}},slider=multiItemSlider(".slider",{isCycling:!0}),slider=(multiItemSlider=function(t,e){function r(t){t.target.classList.contains("product-slider__control")&&(t.preventDefault(),t=t.target.classList.contains("product-slider__control_right")?"right":"left",h(t))}var t=document.querySelector(t),i=t.querySelector(".product-slider__row"),o=t.querySelectorAll(".product-slider__column"),n=t.querySelectorAll(".product-slider__control"),l=t.querySelector(".product-slider__control_left"),s=t.querySelector(".product-slider__control_right"),c=parseFloat(getComputedStyle(i).width),a=parseFloat(getComputedStyle(o[0]).width),d=0,u=a/c*100,f=Math.round(c/a),_={min:0,max:o.length-1,left:0,right:f-1},m=[],h=(o.forEach(function(t,e){m.push({item:t,position:e,transform:0})}),function(t){if("right"===t){if(_.left+c/a-1>=_.max)return;l.classList.contains("product-slider__control_show")||l.classList.add("product-slider__control_show"),s.classList.contains("product-slider__control_show")&&_.left+c/a>=_.max&&s.classList.remove("product-slider__control_show"),_.left++,_.right++,d-=u}if("left"===t){if(_.left<=_.min)return;s.classList.contains("product-slider__control_show")||s.classList.add("product-slider__control_show"),l.classList.contains("product-slider__control_show")&&_.left-1<=_.min&&l.classList.remove("product-slider__control_show"),_.left--,_.right--,d+=u}i.style.transform="translateX("+d+"%)"});return n.forEach(function(t){t.addEventListener("click",r)}),window.addEventListener("resize",function(){var t=parseFloat(getComputedStyle(i).width),e=parseFloat(getComputedStyle(o[0]).width);f!==Math.round(t/e)&&(f=(c=t)/(a=e),_.left+f>_.max?(_.right=_.max,_.left=_.right-f+1):_.right=_.left+f-1,d=-(u=a/c*100)*_.left,i.style.transition="none",i.style.transform="translateX("+d+"%)",setTimeout(function(){i.style.transition="transform 0.6s ease"},400),0===_.left?l.classList.remove("product-slider__control_show"):l.classList.add("product-slider__control_show"),_.right===_.max?s.classList.remove("product-slider__control_show"):s.classList.add("product-slider__control_show"))}),{right:function(){h("right")},left:function(){h("left")}}})("#product-slider"),slider2=multiItemSlider("#product-slider2");